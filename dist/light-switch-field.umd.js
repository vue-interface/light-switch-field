(function(d,l){typeof exports=="object"&&typeof module!="undefined"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(d=typeof globalThis!="undefined"?globalThis:d||self,l(d.LightSwitchField={}))})(this,function(d){"use strict";const l={};function h(...t){if(!t.length)return l;const[e,i]=t;return typeof e=="string"?typeof l[e]!="undefined"?l[e]:i:Array.isArray(e)?e.reduce((r,s)=>Object.assign(r,{[s]:l[s]}),{}):Object.assign(l,...t)}var w={props:{dropShadow:[Boolean,String],dropShadowableClassPrefix:{type:String,default:"drop-shadow"},shadow:[Boolean,String],shadowableClassPrefix:{type:String,default:"shadow"}},computed:{shadowableClass(){const t=this.dropShadow===!0?"":this.dropShadow&&`-${this.dropShadow}`,e=this.shadow===!0?"":this.shadow&&`-${this.shadow}`;return{[`${this.dropShadowableClassPrefix}${t}`]:!!this.dropShadow,[`${this.shadowableClassPrefix}${e}`]:!!this.shadow}}}};/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var g=function(){return g=Object.assign||function(e){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u])}return e},g.apply(this,arguments)};function F(t){return t.toLowerCase()}var $=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],A=/[^A-Z0-9]+/gi;function E(t,e){e===void 0&&(e={});for(var i=e.splitRegexp,r=i===void 0?$:i,s=e.stripRegexp,u=s===void 0?A:s,p=e.transform,v=p===void 0?F:p,a=e.delimiter,o=a===void 0?" ":a,c=C(C(t,r,"$1\0$2"),u,"\0"),f=0,n=c.length;c.charAt(f)==="\0";)f++;for(;c.charAt(n-1)==="\0";)n--;return c.slice(f,n).split("\0").map(v).join(o)}function C(t,e,i){return e instanceof RegExp?t.replace(e,i):e.reduce(function(r,s){return r.replace(s,i)},t)}function x(t,e){return e===void 0&&(e={}),E(t,g({delimiter:"."},e))}function b(t,e){return e===void 0&&(e={}),x(t,g({delimiter:"-"},e))}function m(t,e,i="-"){const r=e.toString().replace(new RegExp(`^${t}${i}?`),"");return[b(r),t].filter(s=>!!s).join(i)}function y(t){return!Array.isArray(t)&&typeof t=="object"}var k={directives:{bindEvents:{bind(t,e,i){if(t.addEventListener("focus",()=>{i.context.hasFocus=!0}),t.addEventListener("blur",()=>{i.context.hasFocus=!1}),t.addEventListener("input",r=>{i.context.isEmpty=!t.value,i.context.currentValue=t.value}),i.context.hasChanged=!!t.value,i.context.bindEvents.forEach(r=>{t.addEventListener(r,s=>{i.context.$emit(r,s)})}),t.tagName==="SELECT"){const r=t.querySelector('[value=""]');r&&r.value===t.value&&(i.context.defaultEmpty=!0),i.context.isEmpty=!t.querySelector("[selected]")&&!t.value}}}},mixins:[w],inheritAttrs:!1,props:{activity:{type:Boolean,default:!1},animated:{type:Boolean,default:()=>h("animated",!1)},bindEvents:{type:Array,default(){return["focus","blur","change","click","keypress","keyup","keydown","progress","paste"]}},componentName:{type:String,default(){return this.$options.name}},defaultControlClass:{type:String,default:()=>h("defaultControlClass","form-control")},defaultValue:{default:()=>h("defaultValue",null)},error:[String,Array,Boolean],errors:{type:[Array,Object,Boolean],default(){return{}}},feedback:[String,Array],group:{type:Boolean,default:()=>h("group",!0)},helpText:[Number,String],hideLabel:Boolean,indicator:{type:String,default:()=>h("indicator","spinner")},indicatorSize:String,inline:Boolean,invalid:Boolean,label:[Number,String],labelClass:{type:[Object,String],default:()=>h("labelClass","form-label")},pill:Boolean,plaintext:Boolean,size:String,spacing:String,valid:Boolean,value:{default:null}},data(){return{currentValue:this.value||this.defaultValue,defaultEmpty:!1,hasChanged:!1,hasFocus:!1,isEmpty:!(this.value||this.defaultValue)}},computed:{id(){return this.$attrs.id||this.$attrs.name},controlAttributes(){return Object.keys(this.$attrs).concat([["id",this.id],["class",this.controlClasses]]).reduce((t,e)=>(Array.isArray(e)?t[e[0]]=e[1]:t[e]=this[e]||this.$attrs[e],t),{})},controlClass(){return this.defaultControlClass},controlSizeClass(){return m(this.size,this.controlClass)},formGroupClasses(){return{[b(this.componentName)]:!!this.componentName,[this.size&&m(this.size,this.componentName)]:!!this.size,animated:this.animated,"default-empty":this.defaultEmpty,"form-group":this.group,[this.size&&m(this.size,"form-group")]:!!this.size,"has-activity":this.activity,"has-changed":this.hasChanged,"has-focus":this.hasFocus,"has-icon":!!this.$slots.icon,"is-empty":this.isEmpty,"is-invalid":!!(this.invalid||this.invalidFeedback),"is-valid":!!(this.valid||this.validFeedback)}},controlClasses(){return Object.assign({[this.controlClass]:!!this.controlClass,[this.controlSizeClass]:!!this.controlSizeClass,"form-control-icon":!!this.$slots.icon,"is-valid":!!(this.valid||this.validFeedback),"is-invalid":!!(this.invalid||this.invalidFeedback),[this.pillClasses]:this.pill,[this.plaintextClass]:this.plaintext,[this.spacing]:!!this.spacing},this.shadowableClass)},hasDefaultSlot(){return!!this.$slots.default},invalidFeedback(){if(this.error==="")return null;if(this.error)return this.error;const t=this.getFieldErrors();return Array.isArray(t)?t.filter(e=>e&&typeof e=="string").join("<br>"):t},pillClasses(){return"rounded rounded-pill"},plaintextClass(){return"form-control-plaintext"},validFeedback(){return Array.isArray(this.feedback)?this.feedback.join("<br>"):this.feedback}},watch:{hasFocus(){this.shouldChangeOnFocus()&&(this.hasChanged=!0)},value(t){this.currentValue=t},currentValue(){this.hasChanged=!0},defaultEmpty(){this.hasChanged=!0}},mounted(){this.$emit("input",this.currentValue)},methods:{blur(){this.getInputField()&&this.getInputField().blur()},focus(){this.getInputField()&&this.getInputField().focus()},getInputField(){return this.$el.querySelector(".form-control, input, select, textarea")},getFieldErrors(){let t=this.error||this.errors;return this.errors&&y(this.errors)&&(t=this.errors[this.$attrs.name||this.$attrs.id]),!t||Array.isArray(t)||y(t)?t:[t]},shouldChangeOnFocus(){return!this.getInputField().readOnly},onInput(t){this.$emit("input",t.target.value),this.$emit("update:value",t.target.value)}}},V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.formGroupClasses},[i("div",{ref:"input",class:t.controlClasses,on:{keyup:[function(r){return!r.type.indexOf("key")&&r.keyCode!==32?null:t.toggle()},function(r){return!r.type.indexOf("key")&&r.keyCode!==37?null:t.toggle(t.offValue)},function(r){return!r.type.indexOf("key")&&r.keyCode!==39?null:t.toggle(t.onValu)}]}},[i("input",{ref:"input",staticClass:"form-check-input",attrs:{id:t.$attrs.id||t.hash,type:"checkbox"},domProps:{checked:t.currentValue===t.onValue},on:{input:t.onInput}}),t._t("label",function(){return[t.label?i("label",{staticStyle:{"padding-left":".5em"},attrs:{for:t.$attrs.id||t.hash}},[t._t("default",function(){return[t._v(t._s(t.label))]})],2):t._e()]})],2),t._t("feedback",function(){return[t.invalidFeedback?i("div",{staticClass:"invalid-feedback",attrs:{invalid:""},domProps:{innerHTML:t._s(t.invalidFeedback)}}):t.validFeedback?i("div",{staticClass:"valid-feedback",attrs:{valid:""},domProps:{innerHTML:t._s(t.validFeedback)}}):t._e()]}),t._t("help",function(){return[t.helpText?i("small",{ref:"help"},[t._v(" "+t._s(t.helpText)+" ")]):t._e()]})],2)},O=[];function z(t,e,i,r,s,u,p,v){var a=typeof t=="function"?t.options:t;e&&(a.render=e,a.staticRenderFns=i,a._compiled=!0),r&&(a.functional=!0),u&&(a._scopeId="data-v-"+u);var o;if(p?(o=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!n&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(n=__VUE_SSR_CONTEXT__),s&&s.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(p)},a._ssrRegister=o):s&&(o=v?function(){s.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:s),o)if(a.functional){a._injectStyles=o;var c=a.render;a.render=function(R,S){return o.call(S),c(R,S)}}else{var f=a.beforeCreate;a.beforeCreate=f?[].concat(f,o):[o]}return{exports:t,options:a}}const T={name:"LightSwitchField",mixins:[k],props:{activeClass:String,defaultControlClass:{type:String,default:"form-switch"},inactiveClass:String,onValue:{type:[String,Number,Boolean,Object,Array],default:1},offValue:{type:[String,Number,Boolean,Object,Array],default:0}},data(){return{currentValue:this.value}},computed:{isActive:function(){return this.currentValue===this.onValue},controlSizeClass(){return this.size==="md"?"form-control":this.size&&`form-control-${this.size}`},controlClasses(){return[this.controlClass,this.controlSizeClass,this.spacing||"",this.invalidFeedback?"is-invalid":"",this.isActive?"is-active":"",this.isActive?this.activeClass:"",this.isActive?"":this.inactiveClass].join(" ")},hash(){return Math.random().toString(20).substr(2,6)}},watch:{currentValue(t){this.$emit("input",t?this.onValue:this.offValue)}},methods:{getTransitionInMilliseconds(){const t=getComputedStyle(this.getInputField()).transitionDuration,e=parseFloat(t,10),i=t.match(/m?s/);switch(i[0]){case"s":return e*1e3;case"ms":return e}throw new Error(`"${i[0]}" is not a valid unit of measure. Unit must be "s" (seconds) or "ms" (milliseconds).`)},toggle(t){t===void 0&&(t=this.isActive?this.offValue:this.onValue),this.currentValue=t},onInput(t){this.currentValue=t.target.checked?this.onValue:this.offValue}}},_={};var j=z(T,V,O,!1,L,null,null,null);function L(t){for(let e in _)this[e]=_[e]}var B=function(){return j.exports}();d.LightSwitchField=B,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
