(function(u,g){typeof exports=="object"&&typeof module!="undefined"?g(exports):typeof define=="function"&&define.amd?define(["exports"],g):(u=typeof globalThis!="undefined"?globalThis:u||self,g(u.LightSwitchField={}))})(this,function(u){"use strict";var g={props:{dropShadow:[Boolean,String],dropShadowableClassPrefix:{type:String,default:"drop-shadow"},shadow:[Boolean,String],shadowableClassPrefix:{type:String,default:"shadow"}},computed:{shadowableClass(){const e=this.dropShadow===!0?"":this.dropShadow&&`-${this.dropShadow}`,t=this.shadow===!0?"":this.shadow&&`-${this.shadow}`;return{[`${this.dropShadowableClassPrefix}${e}`]:!!this.dropShadow,[`${this.shadowableClassPrefix}${t}`]:!!this.shadow}}}};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var v=function(){return v=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},v.apply(this,arguments)};function F(e){return e.toLowerCase()}var A=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],V=/[^A-Z0-9]+/gi;function $(e,t){t===void 0&&(t={});for(var r=t.splitRegexp,i=r===void 0?A:r,s=t.stripRegexp,l=s===void 0?V:s,d=t.transform,h=d===void 0?F:d,a=t.delimiter,o=a===void 0?" ":a,f=b(b(e,i,"$1\0$2"),l,"\0"),p=0,n=f.length;f.charAt(p)==="\0";)p++;for(;f.charAt(n-1)==="\0";)n--;return f.slice(p,n).split("\0").map(h).join(o)}function b(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce(function(i,s){return i.replace(s,r)},e)}function E(e,t){return t===void 0&&(t={}),$(e,v({delimiter:"."},t))}function C(e,t){return t===void 0&&(t={}),E(e,v({delimiter:"-"},t))}const m={};function c(...e){if(!e.length)return m;const[t,r]=e;return typeof t=="string"?typeof m[t]!="undefined"?m[t]:r:Array.isArray(t)?t.reduce((i,s)=>Object.assign(i,{[s]:m[s]}),{}):Object.assign(m,...e)}function y(e,t,r="-"){const i=t.toString().replace(new RegExp(`^${e}${r}?`),"");return[C(i),e].filter(s=>!!s).join(r)}function _(e){return!Array.isArray(e)&&typeof e=="object"}var k={directives:{bindEvents:{bind(e,t,r){if(e.addEventListener("focus",()=>{r.context.hasFocus=!0}),e.addEventListener("blur",()=>{r.context.hasFocus=!1}),e.addEventListener(e.tagName==="SELECT"?"change":"input",i=>{r.context.isEmpty=!e.value,r.context.currentValue=e.value}),r.context.hasChanged=!!e.value,r.context.bindEvents.forEach(i=>{e.addEventListener(i,s=>{r.context.$emit(i,s)})}),e.tagName==="SELECT"){const i=e.querySelector('[value=""]');i&&i.value===e.value&&(r.context.defaultEmpty=!0)}}}},mixins:[g],inheritAttrs:!1,props:{activity:{type:Boolean,default:!1},animated:{type:Boolean,default:()=>c("animated",!1)},bindEvents:{type:Array,default(){return["focus","blur","change","click","keypress","keyup","keydown","progress","paste"]}},componentName:{type:String,default(){return this.$options.name}},defaultControlClass:{type:String,default:()=>c("defaultControlClass","form-control")},defaultValue:{default:()=>c("defaultValue",null)},error:[String,Array,Boolean],errors:{type:[Array,Object,Boolean],default(){return{}}},feedback:[String,Array],group:{type:Boolean,default:()=>c("group",!0)},helpText:[Number,String],hideLabel:Boolean,indicator:{type:String,default:()=>c("indicator","spinner")},indicatorSize:String,inline:Boolean,invalid:Boolean,label:[Number,String],labelClass:{type:[Object,String],default:()=>c("labelClass","form-label")},pill:Boolean,plaintext:Boolean,size:String,spacing:String,valid:Boolean,value:{default:null}},data(){return{currentValue:this.value||this.defaultValue,defaultEmpty:!1,hasChanged:!1,hasFocus:!1,isEmpty:!(this.value||this.defaultValue)}},computed:{id(){return this.$attrs.id||this.$attrs.name},controlAttributes(){return Object.keys(this.$attrs).concat([["id",this.id],["class",this.controlClasses]]).reduce((e,t)=>(Array.isArray(t)?e[t[0]]=t[1]:e[t]=this[t]||this.$attrs[t],e),{})},controlClass(){return this.defaultControlClass},controlSizeClass(){return y(this.size,this.controlClass)},formGroupClasses(){return{[C(this.componentName)]:!!this.componentName,[this.size&&y(this.size,this.componentName)]:!!this.size,animated:this.animated,"default-empty":this.defaultEmpty,"form-group":this.group,[this.size&&y(this.size,"form-group")]:!!this.size,"has-activity":this.activity,"has-changed":this.hasChanged,"has-focus":this.hasFocus,"has-icon":!!this.$slots.icon,"is-empty":this.isEmpty,"is-invalid":!!(this.invalid||this.invalidFeedback),"is-valid":!!(this.valid||this.validFeedback)}},controlClasses(){return Object.assign({[this.controlClass]:!!this.controlClass,[this.controlSizeClass]:!!this.controlSizeClass,"form-control-icon":!!this.$slots.icon,"is-valid":!!(this.valid||this.validFeedback),"is-invalid":!!(this.invalid||this.invalidFeedback),[this.pillClasses]:this.pill,[this.plaintextClass]:this.plaintext,[this.spacing]:!!this.spacing},this.shadowableClass)},hasDefaultSlot(){return!!this.$slots.default},invalidFeedback(){if(this.error==="")return null;if(this.error)return this.error;const e=this.getFieldErrors();return Array.isArray(e)?e.filter(t=>t&&typeof t=="string").join("<br>"):e},pillClasses(){return"rounded rounded-pill"},plaintextClass(){return"form-control-plaintext"},validFeedback(){return Array.isArray(this.feedback)?this.feedback.join("<br>"):this.feedback}},watch:{hasFocus(){this.shouldChangeOnFocus()&&(this.hasChanged=!0)},value(e){this.currentValue=e},currentValue(){this.hasChanged=!0},defaultEmpty(){this.hasChanged=!0}},mounted(){this.value===null&&this.defaultValue!==null&&this.$emit("input",this.defaultValue)},methods:{blur(){this.getInputField()&&this.getInputField().blur()},focus(){this.getInputField()&&this.getInputField().focus()},getInputField(){return this.$el.querySelector(".form-control, input, select, textarea")},getFieldErrors(){let e=this.error||this.errors;return this.errors&&_(this.errors)&&(e=this.errors[this.$attrs.name||this.$attrs.id]),!e||Array.isArray(e)||_(e)?e:[e]},shouldChangeOnFocus(){return!this.getInputField().readOnly},onInput(e){this.$emit("input",e.target.value),this.$emit("update:value",e.target.value)}}},x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.formGroupClasses},[r("div",{ref:"input",class:e.controlClasses,on:{keyup:[function(i){return!i.type.indexOf("key")&&i.keyCode!==32?null:e.toggle(e.currentValue)},function(i){return!i.type.indexOf("key")&&i.keyCode!==37?null:e.toggle(!1)},function(i){return!i.type.indexOf("key")&&i.keyCode!==39?null:e.toggle(!0)}]}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"form-check-input",attrs:{id:e.$attrs.id||e.hash,type:"checkbox"},domProps:{checked:Array.isArray(e.currentValue)?e._i(e.currentValue,null)>-1:e.currentValue},on:{change:function(i){var s=e.currentValue,l=i.target,d=!!l.checked;if(Array.isArray(s)){var h=null,a=e._i(s,h);l.checked?a<0&&(e.currentValue=s.concat([h])):a>-1&&(e.currentValue=s.slice(0,a).concat(s.slice(a+1)))}else e.currentValue=d}}}),e._t("label",function(){return[e.label?r("label",{staticStyle:{"padding-left":".5em"},attrs:{for:e.$attrs.id||e.hash}},[e._t("default",function(){return[e._v(e._s(e.label))]})],2):e._e()]})],2),e._t("feedback",function(){return[e.invalidFeedback?r("div",{staticClass:"invalid-feedback",attrs:{invalid:""},domProps:{innerHTML:e._s(e.invalidFeedback)}}):e.validFeedback?r("div",{staticClass:"valid-feedback",attrs:{valid:""},domProps:{innerHTML:e._s(e.validFeedback)}}):e._e()]}),e._t("help",function(){return[e.helpText?r("small",{ref:"help"},[e._v(" "+e._s(e.helpText)+" ")]):e._e()]})],2)},O=[];function z(e,t,r,i,s,l,d,h){var a=typeof e=="function"?e.options:e;t&&(a.render=t,a.staticRenderFns=r,a._compiled=!0),i&&(a.functional=!0),l&&(a._scopeId="data-v-"+l);var o;if(d?(o=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!n&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(n=__VUE_SSR_CONTEXT__),s&&s.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(d)},a._ssrRegister=o):s&&(o=h?function(){s.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:s),o)if(a.functional){a._injectStyles=o;var f=a.render;a.render=function(N,w){return o.call(w),f(N,w)}}else{var p=a.beforeCreate;a.beforeCreate=p?[].concat(p,o):[o]}return{exports:e,options:a}}const T={name:"LightSwitchField",mixins:[k],model:{prop:"currentValue"},props:{activeClass:{type:String,default:"on"},defaultControlClass:{type:String,default:"form-switch"},onValue:{type:[String,Number,Boolean,Object,Array],default:1},offValue:{type:[String,Number,Boolean,Object,Array],default:0}},data(){return{currentValue:this.$attrs.currentValue===this.onValue}},computed:{isActive:function(){return this.currentValue===this.onValue},controlSizeClass(){return this.size==="md"?"form-control":this.size&&`form-control-${this.size}`},controlClasses(){return[this.controlClass,this.controlSizeClass,this.spacing||"",this.invalidFeedback?"is-invalid":"",this.isActive?"is-active":""].join(" ")},hash(){return Math.random().toString(20).substr(2,6)}},watch:{currentValue(e){this.$emit("input",e?this.onValue:this.offValue)}},methods:{getTransitionInMilliseconds(){const e=getComputedStyle(this.getInputField()).transitionDuration,t=parseFloat(e,10),r=e.match(/m?s/);switch(r[0]){case"s":return t*1e3;case"ms":return t}throw new Error(`"${r[0]}" is not a valid unit of measure. Unit must be "s" (seconds) or "ms" (milliseconds).`)},toggle(e){this.currentValue=e}}},S={};var j=z(T,x,O,!1,L,null,null,null);function L(e){for(let t in S)this[t]=S[t]}var B=function(){return j.exports}();u.LightSwitchField=B,Object.defineProperty(u,"__esModule",{value:!0}),u[Symbol.toStringTag]="Module"});
